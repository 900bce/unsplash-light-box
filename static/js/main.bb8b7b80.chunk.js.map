{"version":3,"sources":["FetchData.jsx","LightBox.jsx","Pagination.jsx","action-types.js","App.jsx","index.js"],"names":["useFetch","apiUrl","useState","data","setData","fetchData","a","fetch","response","json","console","log","useEffect","LightBox","isLightBoxOpen","setIsLightBoxOpen","photoList","displayPhotoData","nextPhoto","prevPhoto","LightBoxMask","PhotoInfoWrap","indexOf","length","alt_description","href","user","links","html","target","rel","username","PhotoBox","src","urls","regular","alt","CloseBtn","onClick","LeftBtn","RightBtn","styled","div","paginationStyle","fontSize","textAlign","marginTop","pageNumStyle","cursor","marginRight","Pagination","currentPage","pagecChange","style","textDecoration","Array","fill","map","_","index","ActionTypes","initialState","reducer","state","action","type","page","payload","UnsplashLightBox","useReducer","dispatch","process","apiResponse","Container","Title","PicturesContainer","PictureBox","onPhotoClick","thumb","id","current","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.bb8b7b80.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nfunction useFetch({ apiUrl }) {\n  const [data, setData] = useState([]);\n\n  const fetchData = async (apiUrl) => {\n    const response = await fetch(apiUrl);\n    try {\n      const json = await response.json();\n      setData(json);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchData(apiUrl);\n  }, [apiUrl]);\n\n  return data;\n}\n\nexport default useFetch;\n","import React from 'react';\nimport styled from 'styled-components';\n\nfunction LightBox({\n  isLightBoxOpen,\n  setIsLightBoxOpen,\n  photoList,\n  displayPhotoData,\n  nextPhoto,\n  prevPhoto,\n}) {\n  return (\n    <LightBoxMask>\n      <PhotoInfoWrap>\n        <h3>\n          <span>{photoList.indexOf(displayPhotoData) + 1}</span>/\n          {photoList.length}\n        </h3>\n        <div>\n          <p>{displayPhotoData.alt_description}</p>\n          <span>â€”</span>\n          <a\n            href={displayPhotoData.user?.links?.html}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            {displayPhotoData.user?.username}\n          </a>\n        </div>\n      </PhotoInfoWrap>\n      <PhotoBox>\n        <a href={displayPhotoData.links?.html} target=\"_blank\" rel=\"noreferrer\">\n          <img\n            src={displayPhotoData?.urls?.regular}\n            alt={displayPhotoData.alt_description}\n          />\n        </a>\n        <CloseBtn onClick={() => setIsLightBoxOpen(!isLightBoxOpen)}>\n          &#10005;\n        </CloseBtn>\n        <LeftBtn onClick={prevPhoto}>&#8592;</LeftBtn>\n        <RightBtn onClick={nextPhoto}>&#8594;</RightBtn>\n      </PhotoBox>\n    </LightBoxMask>\n  );\n}\n\nexport default LightBox;\n\nconst LightBoxMask = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.9);\n  padding: 6rem 0;\n  overflow-y: scroll;\n`;\n\nconst PhotoInfoWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 24rem;\n  margin-right: 4rem;\n  color: #fff;\n\n  h3 {\n    font-size: 3.6rem;\n  }\n\n  h3 span {\n    font-size: 7.2rem;\n  }\n\n  p {\n    font-size: 2.4rem;\n    margin-bottom: 2.4rem;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n    font-size: 1.6rem;\n    font-style: italic;\n  }\n`;\n\nconst PhotoBox = styled.div`\n  position: relative;\n  width: auto;\n  height: 100%;\n  border: 1.5rem solid #fff;\n  border-radius: 10px;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nconst CloseBtn = styled.div`\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  width: 3.6rem;\n  height: 3.6rem;\n  border-radius: 50%;\n  background-color: #fff;\n  font-size: 2.5rem;\n  font-weight: 700;\n  line-height: 3.6rem;\n  text-align: center;\n  cursor: pointer;\n  z-index: 10;\n  transition: 0.3s;\n\n  &:hover {\n    transform: scale(1.1);\n    font-size: 2.8rem;\n  }\n`;\n\nconst LeftBtn = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4.8rem;\n  height: 100%;\n  font-size: 5rem;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst RightBtn = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 4.8rem;\n  height: 100%;\n  font-size: 5rem;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n`;","import React from 'react';\n\nconst paginationStyle = {\n  fontSize: '2rem',\n  textAlign: 'center',\n  marginTop: '1rem'\n}\n\nconst pageNumStyle = {\n  cursor: 'pointer',\n  marginTop: '1rem',\n  marginRight: '.8rem'\n}\n\nfunction Pagination({\n  currentPage,\n  pagecChange,\n}) {\n  return (\n    <div style={paginationStyle}>\n      {currentPage > 4 ? (\n        <>\n          <span\n            onClick={() => pagecChange(1)}\n            style={{ ...(currentPage === 1 ? { textDecoration: 'underline' } : {}), ...pageNumStyle }}\n          >\n            1\n          </span>\n          <span style={pageNumStyle}>...</span>\n          {Array(5)\n            .fill(null)\n            .map((_, index) => (\n              <span\n                key={index + currentPage - 2}\n                onClick={() => pagecChange(index + currentPage - 2)}\n                style={\n                  {\n                    ...(currentPage === index + currentPage - 2\n                      ? { textDecoration: 'underline' }\n                      : {}), ...pageNumStyle\n                  }\n                }\n              >\n                {index + currentPage - 2}\n              </span>\n            ))}\n        </>\n      ) : (\n        Array(5)\n          .fill(null)\n          .map((_, index) => (\n            <span\n              key={index + 1}\n              onClick={() => pagecChange(index + 1)}\n              style={{\n                ...pageNumStyle,\n                ...(currentPage === index + 1 ? { textDecoration: 'underline' } : {})\n              }\n              }\n            >\n              {index + 1}\n            </span>\n          ))\n      )}\n    </div>\n  );\n}\n\nexport default Pagination;\n","export const ActionTypes = {\n  SetCurrentPage: 'SET_CURRENT_PAGE',\n  SetPhotoList: 'SET_PHOTO_LIST',\n  SetIsLightBoxOpen: 'SET_IS_LIGHT_BOX_OPEN',\n  SetDisplayPhotoData: 'SET_DISPLAY_PHOTO_DATA',\n};\n","import React, { useEffect, useReducer } from 'react';\nimport styled from 'styled-components';\nimport useFetch from './FetchData';\nimport LightBox from './LightBox';\nimport Pagination from './Pagination';\nimport { ActionTypes } from './action-types';\n\nconst initialState = {\n  currentPage: 1,\n  photoList: [],\n  isLightBoxOpen: false,\n  displayPhotoData: {},\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case ActionTypes.SetCurrentPage:\n      return { ...state, currentPage: action.page };\n    case ActionTypes.SetPhotoList:\n      return { ...state, photoList: action.payload };\n    case ActionTypes.SetIsLightBoxOpen:\n      return { ...state, isLightBoxOpen: action.payload };\n    case ActionTypes.SetDisplayPhotoData:\n      return {\n        ...state,\n        displayPhotoData: state.photoList\n          ? state.photoList[action.payload]\n          : {},\n      };\n    default:\n      break;\n  }\n}\n\nfunction UnsplashLightBox() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const clientId = process.env.REACT_APP_UNSPLASH_CLIENT_ID;\n  const apiUrl = `https://api.unsplash.com/photos?client_id=${clientId}&page=${state.currentPage}&per_page=9`;\n  const apiResponse = useFetch({ apiUrl });\n\n  useEffect(() => {\n    dispatch({ type: ActionTypes.SetPhotoList, payload: apiResponse });\n  }, [apiResponse]);\n\n  const onPhotoClick = (index) => {\n    dispatch({ type: ActionTypes.SetDisplayPhotoData, payload: index });\n    dispatch({\n      type: ActionTypes.SetIsLightBoxOpen,\n      payload: true,\n    });\n  };\n\n  const pagecChange = (page) => {\n    dispatch({ type: ActionTypes.SetCurrentPage, page });\n  };\n\n  const nextPhoto = () => {\n    if (!state.displayPhotoData || !state.photoList) {\n      return;\n    }\n    const current = state.photoList.indexOf(state.displayPhotoData);\n    if (current === state.photoList.length - 1) {\n      dispatch({ type: ActionTypes.SetDisplayPhotoData, payload: 0 });\n      return;\n    }\n    dispatch({ type: ActionTypes.SetDisplayPhotoData, payload: current + 1 });\n  };\n\n  const prevPhoto = () => {\n    if (!state.displayPhotoData || !state.photoList) {\n      return;\n    }\n    const current = state.photoList.indexOf(state.displayPhotoData);\n    if (current === 0) {\n      dispatch({\n        type: ActionTypes.SetDisplayPhotoData,\n        payload: state.photoList.length - 1,\n      });\n      return;\n    }\n    dispatch({\n      type: ActionTypes.SetDisplayPhotoData,\n      payload: current - 1,\n    });\n  };\n\n  return (\n    <>\n      <Container>\n        <Title>\n          Unsplash\n          <br /> latest photos\n        </Title>\n        <div>\n          <PicturesContainer>\n            {state.photoList &&\n              state.photoList.map((data, index) => (\n                <PictureBox key={data.id} onClick={() => onPhotoClick(index)}>\n                  <img src={data?.urls?.thumb} alt={data.alt_description} />\n                </PictureBox>\n              ))}\n          </PicturesContainer>\n          <Pagination\n            currentPage={state.currentPage}\n            pagecChange={pagecChange}></Pagination>\n        </div>\n      </Container>\n      {state.isLightBoxOpen && (\n        <LightBox\n          isLightBoxOpen={state.isLightBoxOpen}\n          setIsLightBoxOpen={() =>\n            dispatch({\n              type: ActionTypes.SetIsLightBoxOpen,\n              payload: !state.isLightBoxOpen,\n            })\n          }\n          photoList={state.photoList || []}\n          displayPhotoData={state.displayPhotoData || {}}\n          nextPhoto={nextPhoto}\n          prevPhoto={prevPhoto}\n        />\n      )}\n    </>\n  );\n}\n\nexport default UnsplashLightBox;\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 13rem 7rem 13rem 8.5rem;\n`;\n\nconst Title = styled.div`\n  position: relative;\n  font-size: 7.2rem;\n  font-family: 'Open Sans', sans-serif;\n  font-weight: 800;\n  text-decoration: underline;\n  writing-mode: vertical-rl;\n  margin-right: 10rem;\n  text-transform: uppercase;\n\n  &::before {\n    position: absolute;\n    top: -13rem;\n    left: 0;\n    content: '';\n    width: 90%;\n    height: 1.6rem;\n    background-color: #000;\n  }\n`;\n\nconst PicturesContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 85.5rem;\n  height: 85.5rem;\n`;\n\nconst PictureBox = styled.div`\n  margin: 1.5rem;\n  width: 25.5rem;\n  height: 25.5rem;\n  transition: 0.3s;\n\n  &:hover {\n    transform: translate(-0.5rem, -0.5rem);\n    box-shadow: 1.5rem 1.5rem 0 #000;\n    cursor: zoom-in;\n  }\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}